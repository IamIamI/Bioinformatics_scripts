# Merge_files.R

This is a small script that is meant for merging hops summary_table output. 
The use case would be that you might have >100 samples to analyze and to speed up 
the process, you are doing 2 runs of 50 samples each. This results in 2 files.

The script is easy to use, just copy all the RunSummary.txt files from the HOPS 
output, into the same director. And give that directory to the script. 
just invoke it as following
Rscript Merge_files.R /path/to/your/directory/


# VCF_N_Corrector.R

This tool is used to correct VCF files generated by unified genotyper based on 
references containing N's. UG ignores N's and does not create an entry for these
in the .vcf file. Tools like SNPevaluator that rely on a complete record of all the 
positions, will generate frameshifts if this happens. To correct for this we 
add dummy lines in area's where UG did not generate VCF entries.

Cases that are not handled:
   - Multi reference VCF files, as SNPevaluation cannot handle these due to the 
     frame shift
    - N's at the end of a genome, as the script doesn't know how long the genome is
     there is metadata in the header but this is not a standard

Script usage should be easy, just invoke Rscript, type the script location and
add the vcf files you want to correct
Example: Rscript /path/to/VCF_N_corrector.R file1.vcf file2.vcf fileN.vcf

The output uses the orignal name and adds "Ncorrected." to it to identify this
is the corrected file, and it saves the file in the same location as the original
vcf.

# Plot_coordinates_on_map.R
A bare bones map for quick coordinate mapping, does not use any google map data etc, making it easy to use

Use at your own perril, is only meant for small data, quick visualization, dirty plotting, and only meant to be used in R Studio with manual editing, no automation provided. 

For nicer looking geo data plots, please refer to 
https://www.lesleysitter.com/2019/08/22/plotting-geo-data/

the code for which is stored on 
https://github.com/IamIamI/pADAP_project/tree/master/geo_plotting_samples 

# Postprocessing.AMPS_deconstruct.r

* EXPERIMENTAL: USE AT OWN RISK * it has only been written in a day, and tested in a small test set. 

This is a "reduced" version of the AMPS/Hops R script created by https://github.com/rhuebler/HOPS/

This version has removed the plotting functionalities and insteads opts to output all the data to a .csv file for large scale data analysis.
The version does no longer support the -j (heatmap json) option, since this no longer applies.
This version now has a -o option that allows users to designate an output file

Since the original concept revolved around creating PDF files for each subnode of the whatever taxa the user is interested in, it was opted to summarize all sub-nodes.
Although this will create a lot of samples that look positive, this can be overcome by providing more selective names. 
The reasoning is that this is needed to make large scale data analysis possible as it now reduces all the taxa of interested to one line instead of several lines. 
Although having several lines for a single genus or species would not be problamatic, if one is to analyze 1000 taxa for 10K samples, the data is already very large, and additional lines are going to clutter it even more, especially for organisms that have a high abundance of data available with minimal variation. 


